
### UMN IV/LAB CAVE CONFIG FILE ###

<MinVR>

	# This is where it all starts, VRMain begins by looking for this keyword.  If more than one VRSetup is listed, 
	# then the name of the setup to use for this process must be specified on the command line.
	<VRSetups>Server,FrontWall,Floor,SideWalls</VRSetups>


	### VRSETUPS ###

	# The port number is common to both the server and the clients
	<Port>3456</Port>

	<Server>
		<Type>VRServer</Type>
		<NumClients>3</NumClients>
		<VRPlugins>VRPNPlugin</VRPlugins>
		<VRInputDevices>Optitrack1@WandBtns</VRInputDevices>
		<VRDisplayGraph>ConsoleOnly</VRDisplayGraph>
	</Server>

	# These are common to all of the clients
	<ServerIP>localhost</ServerIP>
	<VRPlugins>GLFWPlugin,OpenGLPlugin</VRPlugins>

	<FrontWall>
		<Type>VRClient</Type>
		<VRDisplayGraph>FrontNode</VRDisplayGraph>
	</FrontWall>

	<Floor>
		<Type>VRClient</Type>
		<VRDisplayGraph>FloorNode</VRDisplayGraph>
	</Floor>

	<SideWalls>
		<Type>VRClient</Type>
		<VRDisplayGraph>LeftAndRightNode</VRDisplayGraph>
	</SideWalls>



	### VRPLUGINS ###

	<VRPNPlugin>
		<Path>../plugins</Path>
		<File>VRPNPlugin</File>
	</VRPNPlugin>

	<GLFWPlugin>
		<Path>../plugins</Path>
		<File>GLFWPlugin</File>
	</GLFWPlugin>

	<OpenGLPlugin>
		<Path>../plugins</Path>
		<File>OpenGLPlugin</File>
	</OpenGLPlugin>



	### VRINPUTDEVICES ###

	<Optitrack1>
		<Type>VRPNTrackerDevice</Type>
		<IPAddress>trackingserver.umn.edu:3940</IPAddress>
		<EventsToGenerate>User1_Head_Move@User1_Wand_Move</EventsToGenerate>
	</Optitrack1>

	<WandBtns>
		<Type>VRPNButtonDevice</Type>
		<IPAddress>localhost:3941</IPAddress>
		<EventsToGenerate>User1_Wand_LeftBtn@User1_Wand_RightBtn</EventsToGenerate>
	</WandBtns>



	### VRDISPLAYGRAPH ###

	# Common settings for multiple display graph nodes
	<WindowToolkit>GLFWToolkit</WindowToolkit>
	<GraphicsToolkit>OpenGLToolkit</GraphicsToolkit>
	<StereoFormat>QuadBuffered</StereoFormat>
	<EyeSeparation>0.065</EyeSeparation>
	<NearClip>0.01</NearClip>
	<FarClip>1000.0</FarClip>
	<InitialHeadMatrix>1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1</InitialHeadMatrix>
	<HeadTrackingEvent>User1_Head_Move</HeadTrackingEvent>

	<FrontNode>
		<Type>VRWindowNode</Type>
		<Children>FrontStereoNode</Children>
		<XPos>0</XPos>
		<YPos>0</YPos>
		<Width>1280</Width>
		<Height>1024</Height>
	</FrontNode>

	<FrontStereoNode>
		<Type>VRStereoNode</Type>
		<Children>FrontProjectionNode</Children>
	</FrontStereoNode>

	<FrontProjectionNode>
		<Type>VROffAxisProjectionNode</Type>
		<TopLeft>-4,4,-4</TopLeft>
		<TopRight>4,4,-4</TopRight>
		<BottomLeft>-4,-4,-4</BottomLeft>
		<BottomRight>4,-4,-4</BottomRight>
	</FrontProjectionNode>


	<LeftAndRightNode>
		<Type>VRWindowNode</Type>
		<Children>LeftWall@RightWall</Children>
		<XPos>1281</XPos>
		<YPos>0</YPos>
		<Width>2560</Width>
		<Height>1024</Height>
	</LeftAndRightNode>


	<LeftNode>
		<Type>VRViewportNode</Type>
		<Children>LeftStereoNode</Children>
		<XPos>0</XOffset>
		<YPos>0</YOffset>
		<Width>1280</Width>
		<Height>1024</Height>
	</LeftNode>

	<LeftStereoNode>
		<Type>VRStereoNode</Type>
		<Children>LeftProjectionNode</Children>
	</LeftStereoNode>

	<LeftProjectionNode>
		<Type>VROffAxisProjectionNode</Type>
		<TopLeft>-4,4,4</TopLeft>
		<TopRightt>-4,4,-4</TopRight>
		<BottomLeft>-4,-4,4</BottomLeft>
		<BottomRight>-4,-4,-4</BottomRight>
	</LeftProjectionNode>


	<RightNode>
		<Type>VRViewportNode</Type>
		<Children>RightStereoNode</Children>
		<XPos>1281</XOffset>
		<YPos>0</YOffset>
		<Width>1280</Width>
		<Height>1024</Height>
	</RightNode>

	<RightStereoNode>
		<Type>VRStereoNode</Type>
		<Children>RightProjectionNode</Children>
	</RightStereoNode>

	<RightProjectionNode>
		<Type>VROffAxisProjectionNode</Type>
		<TopLeft>4,4,-4</TopLeft>
		<TopRightt>4,4,4</TopRight>
		<BottomLeft>4,-4,-4</BottomLeft>
		<BottomRight>4,-4,4</BottomRight>
	</RightProjectionNode>


	<FloorNode>
		<Type>VRWindowNode</Type>
		<Children>FloorStereoNode</Children>
		<XPos>3840</XPos>
		<YPos>0</YPos>
		<Width>1280</Width>
		<Height>1024</Height>
	</FloorNode>

	<FloorStereoNode>
		<Type>VRStereoNode</Type>
		<Children>FloorProjectionNode</Children>
	</FloorStereoNode>

	<FloorProjectionNode>
		<Type>VROffAxisProjectionNode</Type>
		<TopLeft>-4,-4,-4</TopLeft>
		<TopRightt>4,-4,-4</TopRight>
		<BottomLeft>-4,-4,4</BottomLeft>
		<BottomRight>4,-4,4</BottomRight>
	</FloorProjectionNode>



	### WINDOW AND GRAPHICS TOOLKITS ###

	<GLFWToolkit>
		<Type>GLFWWindowToolkit</Type>
	</GLFWToolkit>

	<OpenGLToolkit>
		<Type>OpenGLGraphicsToolkit</Type>
	</OpenGLToolkit>

</MinVR>
